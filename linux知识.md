

### 1 [Linux系统top命令中的iowait究竟是什么意思？](https://blog.popkx.com/linux%E7%B3%BB%E7%BB%9Ftop%E5%91%BD%E4%BB%A4%E4%B8%AD%E7%9A%84iowait%E7%A9%B6%E7%AB%9F%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D/)

现在基本就清楚 top 命令中 % io 的含义了：对于指定的 CPU 来说，iowait 表示在此时间内，CPU 其实是空闲的，不过 CPU 并不是严格意义上的“空闲”，毕竟它还需要等待 I/O 操作完成。对于产生 I/O 操作请求的线程来说，它会阻塞等待 I/O 操作完成。理解这一点，对于我们开发I/O操作密集的C语言程序是非常有帮助的。

top命令v栏位信息简介：
us：用户空间
sy：内核空间
ni：调整nice时间
id：空闲
wa：等待IO时间
hi：硬中断
si：软中断（模式切换）
st：虚拟机偷走的时间

### 2 [swap是什么分区，怎么关闭](http://c.biancheng.net/view/907.html)

我们在安装系统的时候已经建立了 swap 分区。swap 分区通常被称为交换分区，这是一块特殊的硬盘空间，即当实际内存不够用的时候，操作系统会从内存中取出一部分暂时不用的数据，放在交换分区中，从而为当前运行的程序腾出足够的内存空间。

也就是说，当内存不够用时，我们使用 swap 分区来临时顶替。这种“拆东墙，补西墙”的方式应用于几乎所有的操作系统中。

使用 swap 交换分区，显著的优点是，通过操作系统的调度，应用程序实际可以使用的内存空间将远远超过系统的物理内存。由于硬盘空间的价格远比 RAM 要低，因此这种方式无疑是经济实惠的。当然，频繁地读写硬盘，会显著降低操作系统的运行速率，这也是使用 swap 交换分区最大的限制。

```
相比较而言，Windows 不会为 swap 单独划分一个分区，而是使用分页文件实现相同的功能，在概念上，Windows 称其为虚拟内存，从某种意义上将，这个叫法更容易理解。因此，初学者将 swap 交换分区理解为虚拟内存是没有任何问题的。
```

具体使用多大的 swap 分区，取决于物理内存大小和硬盘的容量。一般来讲，swap 分区容量应大于物理内存大小，建议是内存的两倍，但不超过 2GB。但是，有时服务器的访问量确实很大，有可能出现 swap 分区不够用的情况，所以我们需要学习 swap 分区的构建方法。

建立新的 swap 分区，只需要执行以下几个步骤。

1. 分区：不管是 fdisk 命令还是 parted 命令，都需要先区。
2. 格式化：格式化命令稍有不同，使用 mkswap 命令把分区格式化成 swap 分区。
3. 使用 swap 分区。

free 命令主要是用来查看内存和 swap 分区的使用情况的，其中：

- total：是指总数；
- used：是指已经使用的；
- free：是指空闲的；
- shared：是指共享的；
- buffers：是指缓冲内存数；
- cached：是指缓存内存数，单位是KB；


我们需要解释一下 buffers（缓冲）和 cached（缓存）的区别。简单来讲，cached 是给读取数据时加速的，buffers 是给写入数据加速的。cached 是指把读取出来的数据保存在内存中，当再次读取时，不用读取硬盘而直接从内存中读取，加速了数据的读取过程；buffers 是指在写入数据时，先把分散的写入操作保存到内存中，当达到一定程度后再集中写入硬盘，减少了磁盘碎片和硬盘的反复寻道，加速了数据的写入过程。

### 3 Linux中的特殊目录之/tmp

我们都知道在Linux系统的根目录 / 中有个目录是tmp
现假设该Linux系统中有两个用户：A和B
我们会发现A，B均能在目录 /tmp中创建文件及目录，并各自创建的文件和目录就行编辑。
但问题是我们发现用户A不能删除用户B创建的所用东西（包括文件，目录等），用户B不能删除用户A所创建的所有东西（包括目录和文件）
其实这就是目录/tmp的特别之处
说到这里，那就不得不说说Linux系统中三种特殊权限（SUID，SGID,SBIT）里的SBIT了
SBIT的作用是：当一个目录设置了SBIT权限后，对于该目录内的文件来说仅有该文件的创建者和root能够删除该文件，其他任何人都不能删除该文件
很明显当我们安装Linux时，系统就已经自动为目录/tmp设置了SBIT权限，所以会出现如假设所示的情形。

### 4. linux什么是管道？

管道是Linux由Unix那里继承过来的进程间的通信机制，它是Unix早期的一个重要通信机制。其思想是，在内存中创建一个共享文件，从而使通信双方利用这个共享文件来传递信息。由于这种方式具有单向传递数据的特点，所以这个作为传递消息的共享文件就叫做“管道”。

在管道的具体实现中，根据通信所使用的的文件是否具有名称，有“匿名管道”和“命名管道”。

管道与共享内存的区别

乍一看，感觉管道和共享内存并不是区别很大，这里介绍一下两者之间的区别：

●　管道需要在内核和用户空间进行四次的数据拷贝：由用户空间的buf中将数据拷贝到内核中 -> 内核将数据拷贝到内存中 -> 内存到内核 -> 内核到用户空间的buf。而共享内存则只拷贝两次数据：用户空间到内存 -> 内存到用户空间。

●　管道用循环队列实现，连续传送数据可以不限大小。共享内存每次传递数据大小是固定的；

●　共享内存可以随机访问被映射文件的任意位置，管道只能顺序读写；

●　管道可以独立完成数据的传递和通知机制，共享内存需要借助其他通讯方式进行消息传递。

也就是说，两者之间最大的区别就是： 共享内存区是最快的可用IPC形式，一旦这样的内存区映射到共享它的进程的地址空间，这些进程间数据的传递，就不再通过执行任何进入内核的系统调用来传递彼此的数据，节省了时间。